language: java

jdk:
  - openjdk8

#script: ./mvnw clean install

cache:
  directories:
  - "$HOME/.m2"

jobs:
  - stage: Test
    jdk: openjdk8
    script: ./mvnw clean verify

  - stage: Coverage
    jdk: openjdk8
    script: ./mvnw clean jacoco:prepare-agent test jacoco:report coveralls:report

  - stage: Deploy
    jdk: openjdk8
    script:
    - "./deploy.sh"

branches:
  only:
  - travis-integration

notifications:
  email:
  - info@techprimers.com


